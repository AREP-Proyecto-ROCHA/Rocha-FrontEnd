{"ast":null,"code":"import _defineProperty from \"/home/martin/Escritorio/Rocha-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/martin/Escritorio/Rocha-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/martin/Escritorio/Rocha-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/martin/Escritorio/Rocha-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/martin/Escritorio/Rocha-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/martin/Escritorio/Rocha-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/martin/Escritorio/Rocha-FrontEnd/src/Producidos/AddProducidos.js\";\nimport React from \"react\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Button from \"@material-ui/core/Button\";\nimport PresentToAll from \"@material-ui/icons/PresentToAll\";\nimport { MuiPickersUtilsProvider, DatePicker } from \"material-ui-pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport esLocale from \"date-fns/locale/es\";\nimport { Select, MenuItem, TextField } from \"@material-ui/core\";\nimport ProducidosItem from \"./ProducidosItem.js\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./AddProducidos.css\";\n\nvar AddProducidos =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddProducidos, _React$Component);\n\n  function AddProducidos(props) {\n    var _this;\n\n    _classCallCheck(this, AddProducidos);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddProducidos).call(this, props));\n\n    _this.handleChange = function (event) {\n      var name = event.target.name;\n      var value = event.target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleDateChange = function (dateValue) {\n      _this.setState({\n        date: dateValue\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      axiosInstance.post(\"/news/post\", {\n        title: _this.state.title,\n        publisher: _this.state.publisher,\n        date: moment(_this.state.date).format(\"x\"),\n        content: _this.state.content,\n        email: _this.state.email,\n        type: _this.state.type,\n        imageURL: _this.state.imageURL\n      }).then(function (response) {\n        _this.setState({\n          fireRedirect: true\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.createAxiosInstance();\n\n    _this.state = {\n      title: \"\",\n      publisher: \"\",\n      date: new Date(),\n      content: \"\",\n      email: \"\",\n      type: \"\",\n      imageURL: \"undefined\",\n      fireRedirect: false\n    };\n    return _this;\n  }\n\n  _createClass(AddProducidos, [{\n    key: \"render\",\n    value: function render() {\n      if (this.state.fireRedirect === true) {\n        return React.createElement(Redirect, {\n          to: \"/app/news\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        className: \"layout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: \"paper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(PresentToAll, {\n        color: \"secondary\",\n        className: \"svg_icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Publicar una noticia\"), React.createElement(\"form\", {\n        className: \"form\",\n        onSubmit: this.handleSubmit,\n        name: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"T\\xEDtulo\"), React.createElement(Input, {\n        id: \"title\",\n        name: \"title\",\n        autoFocus: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"publisher\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Nombre del Editor\"), React.createElement(Input, {\n        id: \"publisher\",\n        name: \"publisher\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        locale: esLocale,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        margin: \"normal\",\n        label: \"Seleccionar Fecha\",\n        id: \"date\",\n        name: \"date\",\n        value: this.state.date,\n        onChange: this.handleDateChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }))), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Tipo\"), React.createElement(Select, {\n        inputProps: {\n          name: \"type\",\n          id: \"type\"\n        },\n        value: this.state.type,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        value: \"Normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Elegir tipo\")), React.createElement(MenuItem, {\n        value: \"Normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Normal\"), React.createElement(MenuItem, {\n        value: \"Warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Advertencia\"), React.createElement(MenuItem, {\n        value: \"Info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Info\"))), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Email de Contacto\"), React.createElement(Input, {\n        id: \"email\",\n        name: \"email\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"content\",\n        name: \"content\",\n        label: \"Contenido de la Noticia\",\n        multiline: true,\n        rows: \"5\",\n        defaultValue: \"Contenido Principal\",\n        margin: \"normal\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"imageurl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Link de Imagen\"), React.createElement(Input, {\n        name: \"imageURL\",\n        id: \"imageURL\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })), React.createElement(FormControl, {\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Publicar Noticia\"))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Vista Previa\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(ProducidosItem, {\n        cardInfo: {\n          title: this.state.title,\n          publisher: this.state.publisher,\n          date: this.state.date,\n          content: this.state.content,\n          email: this.state.email,\n          type: this.state.type,\n          imageURL: this.state.imageURL\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"createAxiosInstance\",\n    value: function createAxiosInstance() {\n      var token = localStorage.getItem(\"token\");\n      axiosInstance = axios.create({\n        baseURL: apiURL,\n        timeout: 1000,\n        headers: {\n          \"Authorization\": \"Bearer \" + token\n        }\n      });\n    }\n  }]);\n\n  return AddProducidos;\n}(React.Component);\n\nexport default AddProducidos;\nvar apiURL = window.location.hostname === \"localhost\" ? \"http://localhost:8080\" : \"https://myuniapp-back.herokuapp.com\";\nvar axiosInstance;","map":{"version":3,"sources":["/home/martin/Escritorio/Rocha-FrontEnd/src/Producidos/AddProducidos.js"],"names":["React","CssBaseline","Paper","Typography","Input","InputLabel","FormControl","Button","PresentToAll","MuiPickersUtilsProvider","DatePicker","DateFnsUtils","esLocale","Select","MenuItem","TextField","ProducidosItem","axios","moment","Redirect","AddProducidos","props","handleChange","event","name","target","value","setState","handleDateChange","dateValue","date","handleSubmit","preventDefault","axiosInstance","post","title","state","publisher","format","content","email","type","imageURL","then","response","fireRedirect","catch","error","console","log","createAxiosInstance","Date","id","token","localStorage","getItem","create","baseURL","apiURL","timeout","headers","Component","window","location","hostname"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Button from \"@material-ui/core/Button\";\nimport PresentToAll from \"@material-ui/icons/PresentToAll\";\nimport { MuiPickersUtilsProvider, DatePicker } from \"material-ui-pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport esLocale from \"date-fns/locale/es\";\nimport { Select, MenuItem, TextField } from \"@material-ui/core\";\nimport ProducidosItem from \"./ProducidosItem.js\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./AddProducidos.css\";\n\nclass AddProducidos extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.createAxiosInstance();\n        this.state = {\n            title : \"\",\n            publisher : \"\",\n            date : new Date(),\n            content : \"\",\n            email : \"\",\n            type : \"\",\n            imageURL : \"undefined\",\n            fireRedirect : false\n        };\n    }\n\n    handleChange = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleDateChange = (dateValue) => {\n        this.setState({\n            date: dateValue\n        });\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        axiosInstance.post(\"/news/post\", {\n            title : this.state.title,\n            publisher : this.state.publisher,\n            date : moment(this.state.date).format(\"x\"),\n            content : this.state.content,\n            email : this.state.email,\n            type : this.state.type,\n            imageURL : this.state.imageURL\n        }).then((response) => {\n            this.setState({\n                fireRedirect : true\n            });\n        }).catch((error) => {\n            console.log(error);\n        });\n    }\n\n    render() {\n        if (this.state.fireRedirect === true) {\n            return (<Redirect to=\"/app/news\"/>);\n        }\n\n        return (\n            <React.Fragment>\n                <CssBaseline />\n                <main className=\"layout\">\n                    <Paper className=\"paper\">\n                        <PresentToAll color=\"secondary\" className=\"svg_icons\"/>\n                        <Typography variant=\"h4\">Publicar una noticia</Typography>\n                        <form className=\"form\" onSubmit={this.handleSubmit} name=\"login-form\">\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"title\">Título</InputLabel>\n                                <Input id=\"title\" name=\"title\" autoFocus\n                                    onChange={this.handleChange}\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"publisher\">Nombre del Editor</InputLabel>\n                                <Input id=\"publisher\" name=\"publisher\"\n                                    onChange={this.handleChange}\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <MuiPickersUtilsProvider utils={DateFnsUtils} locale={esLocale} >\n                                    <DatePicker\n                                        margin=\"normal\"\n                                        label=\"Seleccionar Fecha\"\n                                        id=\"date\"\n                                        name=\"date\"\n                                        value={this.state.date}\n                                        onChange={this.handleDateChange}>\n                                    </DatePicker>\n                                </MuiPickersUtilsProvider>\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"type\">Tipo</InputLabel>\n                                <Select\n                                    inputProps={{name:\"type\", id:\"type\"}}\n                                    value={this.state.type}\n                                    onChange={this.handleChange}\n                                >\n                                    <MenuItem value=\"Normal\">\n                                        <em>Elegir tipo</em>\n                                    </MenuItem>\n                                    <MenuItem value=\"Normal\">Normal</MenuItem>\n                                    <MenuItem value=\"Warning\">Advertencia</MenuItem>\n                                    <MenuItem value=\"Info\">Info</MenuItem>\n                                </Select>\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <InputLabel htmlFor=\"email\">Email de Contacto</InputLabel>\n                                <Input id=\"email\" name=\"email\"\n                                    onChange={this.handleChange}\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\" required fullWidth>\n                                <TextField\n                                    id=\"content\"\n                                    name=\"content\"\n                                    label=\"Contenido de la Noticia\"\n                                    multiline\n                                    rows=\"5\"\n                                    defaultValue=\"Contenido Principal\"\n                                    margin=\"normal\"\n                                    onChange={this.handleChange}>\n                                </TextField>\n                            </FormControl>\n                            <FormControl margin=\"normal\" fullWidth>\n                                <InputLabel htmlFor=\"imageurl\">Link de Imagen</InputLabel>\n                                <Input\n                                    name=\"imageURL\"\n                                    id=\"imageURL\"\n                                    onChange={this.handleChange}\n                                />\n                            </FormControl>\n                            <FormControl margin=\"normal\">\n                                <Button\n                                    type=\"submit\"\n                                    fullWidth\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                >\n                                    Publicar Noticia\n                                </Button>\n                            </FormControl>\n                        </form>\n                    </Paper>\n                </main>\n                <br></br>\n                <h2>Vista Previa</h2>\n                <br></br>\n                <ProducidosItem cardInfo={{\n                    title : this.state.title,\n                    publisher : this.state.publisher,\n                    date : this.state.date,\n                    content : this.state.content,\n                    email : this.state.email,\n                    type : this.state.type,\n                    imageURL : this.state.imageURL\n                }\n                }/>\n            </React.Fragment>\n        );\n    }\n\n    createAxiosInstance() {\n        var token = localStorage.getItem(\"token\");\n        axiosInstance = axios.create({\n            baseURL: apiURL,\n            timeout: 1000,\n            headers: {\"Authorization\": \"Bearer \"+ token}\n        });\n    }\n}\n\nexport default AddProducidos;\n\nconst apiURL = ((window.location.hostname === \"localhost\") ? \"http://localhost:8080\" : \"https://myuniapp-back.herokuapp.com\");\nvar axiosInstance;"]},"metadata":{},"sourceType":"module"}